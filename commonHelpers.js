import{S as w,a as p,i as A}from"./assets/vendor-ee72e1a4.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEjSURBVHgBzVWBDYIwEDw3YAM7ghvICG6AG8gGuIFuwAjECRjBEXQD3eB9zCEf0lpASLzkE/iv99/eWYB/gogcNDIsASU+S4cT5oQSOhKXDTmfHeaCklUaNzZKNB4aNeaAEu05cWZyOXMpfgUnv3nyV9YSTIX++MhJt3zftztppmetwBRYYfm+My5Kmauoh8NY0DEft/QabM0Q4wU3ZIXJbfoNmC9GC+4T1hxZg7XJJxIwQog879vS1N7w5FvB8xi54zQlBu7M1GrqkXxrUFphAyQVwsM1OCGyYJqvERG83b588bSYP1qg7r+nxHPfBMhlxLqsTbghNhvagGvrj+DS3TcOEcSOyKzr7ik+lJgZdORjRUFSLIP7ikezxIf8qXHB0ngB0x4XMNg0o7IAAAAASUVORK5CYII=";function u(t){const a=document.querySelector(".photos-list"),o=t.map(({downloads:e,comments:s,views:l,likes:b,tags:S,webformatURL:C,largeImageURL:L})=>`
    <li class="gallery">
      <a class="gallery-link" href="${L}"><img src="${C}" alt="${S}" loading="lazy">
      <div class="gallery-wrap"><span class="span">Likes <span class="value">${b}</span></span>
      <span class="span">Views <span class="value">${l}</span></span>
      <span class="span">Comments <span class="value">${s}</span></span>
      <span class="span">Downloads <span class="value">${e}</span></span></div></a>
    </li>`).join("");a.insertAdjacentHTML("beforeend",o),new w(".gallery a").refresh()}function h(){const t=document.querySelector(".photos-list");return t.innerHTML=""}const B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEaSURBVHgBrZZhDoIwDIUL0fjXo3gUb7R5Er0BHsXD7A+bASlhYeC6V4WXGCHr3reNtkAkqG2D9T70mh/HSj4HybyqyPQ9PeuaXlRQ19GFY4c5dDodLSHNK3/fSam29Q+0k7/N1ZAt5hCyh7kIKZl77y/IMBezgEwXTW4ienBxcc65DCQ0PDYCQghGMDASJJpzTG4ue0KABEHmKeBAQEPx3LiIhmKy/M+aitDyGJoPAWsI32vNWTXpVQnXRal2kPQmO7pPx6XpPRCQmsdjSZ8JhIA0FbOllMKsRZqCQoMpXCy0GJRrFc7hVpGLSVqFWaxk52ZnVgPbIaL5HhBovgVSMv+qg7kt9JznZ+VL//pL+5hWFXei+mwRj+UDSHQ9vnHBEYAAAAAASUVORK5CYII=",x="44930216-c8fe7065044399c3ab26c911d",v="https://pixabay.com",M="api/";p.defaults.baseURL=v;async function d({q:t="",page:a=1,per_page:o=15}={}){try{const e=await(await p.get(M,{params:{key:x,q:t,page:a,per_page:o,image_type:"photo",orientation:"horizontal",safesearch:"true"}})).data;if(e.hits.length===0){h(),A.error({position:"topRight",title:"Sorry, there are no images matching",message:"your search query. Please try again!",titleColor:"white",titleSize:"16px",messageColor:"white",backgroundColor:"#ef4040",iconUrl:B,layout:2,progressBarColor:"#b51b1b",maxWidth:"432px"});return}return e}catch(i){console.log(i)}}const r={form:document.querySelector(".js-form"),spinner:document.querySelector(".js-loader"),btnMore:document.querySelector(".js-btn-more")},c="hidden",n={q:"",page:1,per_page:15,maxPage:0};r.form.addEventListener("submit",E);async function E(t){t.preventDefault(),n.page=1;const a=t.currentTarget;if(n.q=a.elements.textValue.value.trim(),!n.q){A.info({position:"topRight",title:"It is can not be empty",message:"you must to write something in the stroke",titleColor:"white",titleSize:"16px",messageColor:"white",backgroundColor:"#09f",iconUrl:g,layout:2,progressBarColor:" #3958c9",maxWidth:"432px",closeOnEscape:!0});return}h(),f(),r.btnMore.classList.add(c);try{const{hits:o,totalHits:i}=await d(n);n.maxPage=Math.ceil(i/n.per_page),u(o),o.length>0&&o.length!==i?(r.btnMore.classList.remove(c),r.btnMore.addEventListener("click",m)):r.btnMore.classList.add(c)}catch(o){console.log(o)}finally{y(),a.reset()}}async function m(){r.btnMore.classList.add(c),f(),n.page+=1;try{const{hits:t}=await d(n);u(t)}catch(t){console.log(t)}finally{y(),r.btnMore.classList.remove(c)}n.maxPage===n.page&&(r.btnMore.classList.add(c),A.info({position:"topRight",message:"We're sorry, but you've reached the end of search results.",titleColor:"white",titleSize:"16px",messageColor:"white",backgroundColor:"#09f",iconUrl:g,progressBarColor:" #3958c9",maxWidth:"432px"}),r.btnMore.removeEventListener("click",m))}function f(){return r.spinner.classList.remove(c)}function y(){return r.spinner.classList.add(c)}
//# sourceMappingURL=commonHelpers.js.map
