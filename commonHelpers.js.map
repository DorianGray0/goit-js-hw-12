{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_exclamation-triangle.png","../src/img/bi_x-octagon.png","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEjSURBVHgBzVWBDYIwEDw3YAM7ghvICG6AG8gGuIFuwAjECRjBEXQD3eB9zCEf0lpASLzkE/iv99/eWYB/gogcNDIsASU+S4cT5oQSOhKXDTmfHeaCklUaNzZKNB4aNeaAEu05cWZyOXMpfgUnv3nyV9YSTIX++MhJt3zftztppmetwBRYYfm+My5Kmauoh8NY0DEft/QabM0Q4wU3ZIXJbfoNmC9GC+4T1hxZg7XJJxIwQog879vS1N7w5FvB8xi54zQlBu7M1GrqkXxrUFphAyQVwsM1OCGyYJqvERG83b588bSYP1qg7r+nxHPfBMhlxLqsTbghNhvagGvrj+DS3TcOEcSOyKzr7ik+lJgZdORjRUFSLIP7ikezxIf8qXHB0ngB0x4XMNg0o7IAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEaSURBVHgBrZZhDoIwDIUL0fjXo3gUb7R5Er0BHsXD7A+bASlhYeC6V4WXGCHr3reNtkAkqG2D9T70mh/HSj4HybyqyPQ9PeuaXlRQ19GFY4c5dDodLSHNK3/fSam29Q+0k7/N1ZAt5hCyh7kIKZl77y/IMBezgEwXTW4ienBxcc65DCQ0PDYCQghGMDASJJpzTG4ue0KABEHmKeBAQEPx3LiIhmKy/M+aitDyGJoPAWsI32vNWTXpVQnXRal2kPQmO7pPx6XpPRCQmsdjSZ8JhIA0FbOllMKsRZqCQoMpXCy0GJRrFc7hVpGLSVqFWaxk52ZnVgPbIaL5HhBovgVSMv+qg7kt9JznZ+VL//pL+5hWFXei+mwRj+UDSHQ9vnHBEYAAAAAASUVORK5CYII=\"","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderFunctions(photos) {\n  const list = document.querySelector('.photos-list');\n\n  const photoList = photos\n    .map(\n      ({\n        downloads,\n        comments,\n        views,\n        likes,\n        tags,\n        webformatURL,\n        largeImageURL,\n      }) => `\n    <li class=\"gallery\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\">\n      <div class=\"gallery-wrap\"><span class=\"span\">Likes <span class=\"value\">${likes}</span></span>\n      <span class=\"span\">Views <span class=\"value\">${views}</span></span>\n      <span class=\"span\">Comments <span class=\"value\">${comments}</span></span>\n      <span class=\"span\">Downloads <span class=\"value\">${downloads}</span></span></div></a>\n    </li>`\n    )\n    .join('');\n\n  clearList();\n\n  list.insertAdjacentHTML('beforeend', photoList);\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction clearList() {\n  const list = document.querySelector('.photos-list');\n  return (list.innerHTML = '');\n}\n\nexport { clearList, renderFunctions };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconOctagon from '/img/bi_x-octagon.png';\n\nimport { clearList } from './render-functions';\n\nconst KEY_URL = '44930216-c8fe7065044399c3ab26c911d';\nconst URL = 'https://pixabay.com/api/';\n\nexport function fetchPhotos(textValue) {\n  const searchParams = new URLSearchParams({\n    q: textValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${URL}?key=${KEY_URL}&${searchParams}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      return res.json();\n    })\n    .then(photos => {\n      if (photos.hits.length === 0) {\n        clearList();\n\n        iziToast.error({\n          position: 'topRight',\n          title: 'Sorry, there are no images matching',\n          message: 'your search query. Please try again!',\n          titleColor: 'white',\n          titleSize: '16px',\n          messageColor: 'white',\n          backgroundColor: '#ef4040',\n          iconUrl: iconOctagon,\n          layout: 2,\n          progressBarColor: '#b51b1b',\n          maxWidth: '432px',\n        });\n        return;\n      }\n      return photos;\n    })\n    .catch(error => console.error(error));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport caution from './img/bi_exclamation-triangle.png';\n\nimport { fetchPhotos } from './js/pixabay-api';\nimport { clearList, renderFunctions } from './js/render-functions';\n\nconst elements = {\n  form: document.querySelector('.js-form'),\n  spinner: document.querySelector('.js-loader'),\n};\n\nelements.form.addEventListener('submit', handlerSearch);\n\nasync function handlerSearch(evt) {\n  evt.preventDefault();\n\n  const data = {};\n  new FormData(evt.target).forEach((value, key) => {\n    return (data[key] = value.trim().toLowerCase());\n  });\n\n  if (!data.textValue) {\n    iziToast.info({\n      position: 'topRight',\n      title: 'It is can not be empty',\n      message: 'you must to write something in the stroke',\n      titleColor: 'white',\n      titleSize: '16px',\n      messageColor: 'white',\n      backgroundColor: '#09f',\n      iconUrl: caution,\n      layout: 2,\n      progressBarColor: ' #3958c9',\n      maxWidth: '432px',\n      closeOnEscape: true,\n    });\n    return;\n  }\n  clearList();\n  spinnerShown();\n\n  try {\n    const { hits, total } = await fetchPhotos(data.textValue);\n    renderFunctions(hits);\n  } catch (err) {\n    console.log(err);\n  } finally {\n    spinnerClose();\n    elements.form.reset();\n  }\n}\n\nfunction spinnerShown() {\n  return elements.spinner.classList.remove('hidden');\n}\n\nfunction spinnerClose() {\n  return elements.spinner.classList.add('hidden');\n}\n"],"names":["caution","iconOctagon","renderFunctions","photos","list","photoList","downloads","comments","views","likes","tags","webformatURL","largeImageURL","clearList","SimpleLightbox","KEY_URL","URL","fetchPhotos","textValue","searchParams","res","iziToast","error","elements","handlerSearch","evt","data","value","key","spinnerShown","hits","total","err","spinnerClose"],"mappings":"6vBAAA,MAAeA,EAAA,6iBCAAC,EAAA,iiBCGf,SAASC,EAAgBC,EAAQ,CAC/B,MAAMC,EAAO,SAAS,cAAc,cAAc,EAE5CC,EAAYF,EACf,IACC,CAAC,CACC,UAAAG,EACA,SAAAC,EACA,MAAAC,EACA,MAAAC,EACA,KAAAC,EACA,aAAAC,EACA,cAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BA,CAAa,eAAeD,CAAY,UAAUD,CAAI;AAAA,+EACbD,CAAK;AAAA,qDAC/BD,CAAK;AAAA,wDACFD,CAAQ;AAAA,yDACPD,CAAS;AAAA,UAE7D,EACA,KAAK,EAAE,EAEVO,IAEAT,EAAK,mBAAmB,YAAaC,CAAS,EAE7B,IAAIS,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASD,GAAY,CACnB,MAAMT,EAAO,SAAS,cAAc,cAAc,EAClD,OAAQA,EAAK,UAAY,EAC3B,CChCA,MAAMW,EAAU,qCACVC,EAAM,2BAEL,SAASC,EAAYC,EAAW,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAG,QAAQD,CAAO,IAAII,CAAY,EAAE,EACjD,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKjB,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BU,IAEAQ,EAAS,MAAM,CACb,SAAU,WACV,MAAO,sCACP,QAAS,uCACT,WAAY,QACZ,UAAW,OACX,aAAc,QACd,gBAAiB,UACjB,QAASpB,EACT,OAAQ,EACR,iBAAkB,UAClB,SAAU,OACpB,CAAS,EACD,MACD,CACD,OAAOE,CACb,CAAK,EACA,MAAMmB,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CCtCA,MAAMC,EAAW,CACf,KAAM,SAAS,cAAc,UAAU,EACvC,QAAS,SAAS,cAAc,YAAY,CAC9C,EAEAA,EAAS,KAAK,iBAAiB,SAAUC,CAAa,EAEtD,eAAeA,EAAcC,EAAK,CAChCA,EAAI,eAAc,EAElB,MAAMC,EAAO,CAAA,EAKb,GAJA,IAAI,SAASD,EAAI,MAAM,EAAE,QAAQ,CAACE,EAAOC,IAC/BF,EAAKE,CAAG,EAAID,EAAM,KAAI,EAAG,aAClC,EAEG,CAACD,EAAK,UAAW,CACnBL,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,yBACP,QAAS,4CACT,WAAY,QACZ,UAAW,OACX,aAAc,QACd,gBAAiB,OACjB,QAASrB,EACT,OAAQ,EACR,iBAAkB,WAClB,SAAU,QACV,cAAe,EACrB,CAAK,EACD,MACD,CACDa,IACAgB,IAEA,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAG,MAAMd,EAAYS,EAAK,SAAS,EACxDxB,EAAgB4B,CAAI,CACrB,OAAQE,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACnB,QAAY,CACRC,IACAV,EAAS,KAAK,OACf,CACH,CAEA,SAASM,GAAe,CACtB,OAAON,EAAS,QAAQ,UAAU,OAAO,QAAQ,CACnD,CAEA,SAASU,GAAe,CACtB,OAAOV,EAAS,QAAQ,UAAU,IAAI,QAAQ,CAChD"}